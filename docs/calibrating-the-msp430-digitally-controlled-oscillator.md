# 校准 MSP430 数控振荡器

> 原文：<https://hackaday.com/2015/03/15/calibrating-the-msp430-digitally-controlled-oscillator/>

MSP430 是一种流行的微控制器，板上有一个整洁的小时钟源，一个数控振荡器，或 DCO。这个振荡器可以用来设置 UART 的波特率或 VGA 输出的时钟。

虽然 DCO 是精确的——一旦你设置好，它就会以正确的速度滴答作响——但它并不精确。如果没有一点代码，就很难将 DCO 设置为您想要的速率，并且设置该速率的代码在不同的芯片之间会有所不同。

当[Mike]试图在 MSP430 和蓝牙模块之间设置 UART 时，他遇到了一个问题。将 MSP 设置为正确的波特率非常困难。幸运的是，有一种方法可以绕过这个问题。

有一个简单的方法通过编程来设置 MSP 上的 DCO；只需设置两个定时器，一个每 512 个周期中断一次，其时钟源设置为 DCO，另一个每 32768 个周期中断一次，从 32.768kHz 晶振获取时钟。第一计时器每秒钟报时一次，通过将第一计时器乘以 512，可以推导出 DCO 的真实速度。

在试验了这种技术并在两个不同的芯片上测试了相同的代码后，[Mike]发现不同芯片之间的 dco 可能存在近 1MHz 的差异。当他在 430 上玩 VGA 时，知道这一点会很有帮助。那时候他只用一块水晶。