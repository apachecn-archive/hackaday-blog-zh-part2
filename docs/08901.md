# 入侵瘦客户端以获得 Root 访问权限

> 原文:[https://hack aday . com/2015/04/29/hacking-a-thin-client-to-gain-root-access/](https://hackaday.com/2015/04/29/hacking-a-thin-client-to-gain-root-access/)

[Roberto]最近发现了一种聪明的方法来获得对 HP t520 瘦客户端计算机的 root 访问权限。这些电脑运行惠普的 ThinPro 操作系统。该操作系统基于 Linux，基本上只是一个轻量级系统，旨在引导到从服务器加载的虚拟桌面映像。[Roberto 的] discovery 适用于以“kiosk 模式”运行的系统。

攻击的设置非常简单。攻击者首先阻止虚拟桌面映像的加载。然后，编辑连接设置。主机字段充满了垃圾，这将阻止连接实际上正常工作。真正的诀窍在于“命令行参数”字段。攻击者只需添加参数“&& xterm”。当连接启动时，它将首先失败，然后启动 xterm 程序。这给了攻击者一个命令外壳，它可以在原始软件运行的用户环境下运行。

下一步是将权限提升到 root。[Roberto]发现了一个特殊的命令，默认用户可以使用 sudo 作为根用户运行该命令。“hpobl”命令启动 HP 简易设置向导。一旦向导被打开，攻击者点击“谢谢”链接，然后会加载一个火狐版本的惠普网站。最后一步是编辑 Firefox 的默认电子邮件程序与 xterm 的关联。现在，当攻击者访问类似“mailto:test@test.com”的地址时，Firefox(以 root 身份运行)会以完全 root 权限启动 xterm。这些类型的攻击并不新鲜，但有趣的是，它们甚至在较新的软件中仍然存在。