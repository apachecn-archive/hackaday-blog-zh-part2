# 对浴室秤进行逆向工程，实现自动重量跟踪

> 原文：<https://hackaday.com/2014/10/18/reverse-engineering-a-bathroom-scale-for-automated-weight-tracking/>

[达雷尔]最近购买了一个别致的新浴室秤。与一般的浴室秤不同，这款秤配有无线数字显示器。用户站在秤上，基本单元使用红外信号将重量测量结果传输到显示器。这个想法是，你可以把显示器放在你的面前，而不是低头看你的脚。[达雷尔]意识到他在红外通讯方面的经验可能会使他能够黑掉这个浴室秤,自动跟踪他的体重到网上存储的电子表格中。

[达雷尔]首先将一个 38 千赫的红外线接收器连接到一个逻辑分析仪上。然后他记录了从秤到显示器的单向交流。他的经验告诉他，秤很可能使用脉冲距离编码来编码数据。秤将以 500 毫秒的脉冲开始每一位。然后，它将继续另一个 500 毫秒的脉冲，或 1000 毫秒的脉冲。每个组合代表 1 或 0。问题是，[达雷尔]不知道哪个是哪个。他也不确定这些比特是以什么顺序传输的。他修改了他的逻辑分析仪的软件插件，以便在波形顶部显示 1 和 0。然后，他制作了几个可配置的选项，以便尝试数据的各种表示。

接下来是生成一些已知数据的时候了。他在秤上增加重量，并记录结果数据和显示器上的实际读数。然后，他尝试了各种显示设置的组合，直到他得到了看起来是十六进制数字大小增加。然后通过比较数值，他能够确定五个字节中的每一个代表什么。他甚至能够重建用于生成校验和字节的校验和函数。

最后，[达雷尔]用一个树莓皮把秤挂在云上。他编写了一个 Python 脚本来监控红外接收器以获取适当的数据。该脚本还验证校验和，以确保数据没有损坏。[达雷尔]增加了一个小 LED 灯，以指示读数何时被保存到谷歌文档的电子表格中，这样他就可以确保自己的体重被正确记录。