# 竞争条件利用了网络服务上的免费资金

> 原文:[https://hack aday . com/2015/04/29/race-conditions-exploit-granted-free-money-on-web-services/](https://hackaday.com/2015/04/29/race-conditions-exploit-granted-free-money-on-web-services/)

[Josip]最近一直在玩 web 界面上的竞争条件，在脸书和数字海洋上寻找漏洞。当一个软件使用共享资源处理多个线程时，可能会出现竞争情况。

例如，[乔希普]发现他只用一个脸书账户就能操纵页面评论。通常情况下，一个用户被允许对任何给定的脸书页面只留下一个评论。这可以防止单个用户通过做出一堆正面或负面的评论来扭曲页面的整体排名。操纵系统的技巧是拦截提交页面审查的 HTTP 请求。这个请求在很短的时间内被一遍又一遍地重放。

脸书的服务器最终同时处理了其中的一些请求，基本上没有意识到多个请求如此接近。结果是提交了多条评论，人为地改变了页面的整体排名，尽管实际上只有一条评论显示在该用户的页面上。然后，用户可以删除他们的单个评论，并一遍又一遍地重复这个循环。脸书花了大约两个月的时间来修复这个漏洞，但最终它被修复了，而且[乔希普]得到了一笔可观的奖金。

数字海洋黑客本质上是完全相同的过程。这一次，【乔希普】没有黑掉页面评论，而是追求一些免费的钱。他发现他可以多次提交相同的促销代码，从而在结账时获得巨大的折扣。Digital Ocean 没有浪费时间来修复这个漏洞，仅在发布后十天内就修复了它。