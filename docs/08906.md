# 回顾:HUZZAH 是您需要的 ESP8266 WiFi 设置

> 原文:[https://hack aday . com/2015/05/01/review-huzzah-is-the-esp8266-wifi-setup-you-need/](https://hackaday.com/2015/05/01/review-huzzah-is-the-esp8266-wifi-setup-you-need/)

一个只需几百便士就能为任何项目添加 WiFi 的小板子已经风靡了至少半年。我指的是 ESP8266，该产品是这些 WiFi 模块之一与运行所需的支持硬件的结合。本周我将回顾 Adafruit Industries 的 HUZZAH ESP8266 突破。

如果你看过[cnlohr]为我们撰写的关于直接编程该板的文章，你会知道这篇文章的大部分内容都涉及到如何让模块进入编程模式。这需要添加一个 3.3V 稳压电源，并在复位电源轨时将其中一个引脚拉至地。HUZZAH 不仅为您解决了这一问题，它还将非试验板友好型模块转变为 DIP 外形，同时比最常见的模块提供更多的引脚。所有这些，标价仅为 9.95 美元。休息之后请和我一起完成最后的冲刺。

## 硬件

这块木板大约 1.5 英寸乘 1 英寸……就像两张并排的邮票。它托管着 FCC 和 CE 批准的模块，我们在 12 月第一次听说这个模块。这些模块需要一个 3.3v 电源，板上有一个稳压器，可以提供高达 500mA 的电源(该模块可以消耗多达 250mA 的电流)，可以由电池、USB 电源或任何其他 5V 电源供电。正如我前面提到的，你需要在复位期间拉低一个引脚，使模块进入编程模式。板上有两个开关可以实现这一点，按住用户按钮并按下 reset，您就可以开始刷新了。

在试验板上，一侧有两行未被电路板覆盖，另一侧有一行。该板没有 USB 转 UART 桥，但我们对此没有意见。在电路板的一端，您会发现 USB 转串行编程电缆的通用引脚排列。上面你可以看到 Adafruit 用这些样本发给我的编程电缆。![huzzah-esp8266-ftdi-cable](../Images/7c655dc98f1a273bd4bc85ffa231c0ae.png)在右边，我试用了我的 5V Sparkfun FTDI 板，正如宣传的那样，HUZZAH 可以用 3.3v 或 5V 逻辑电平编程。

我注意到的一件事是，这两个按钮有点棘手，程序员连接，特别是 FTDI 板。对于第二个模块，我可能会提供我自己的直角头来绕过这一点。当然，这样做会覆盖部分试验板，所以这可能是一个六，另一个半打。

我喜欢他们提供引脚头，但不焊接。有时我更喜欢引脚插座或未填充的焊盘，这使我很容易做出如上所述的直角选择。它很小，但我也意识到包装中的引脚不是该板所需的最少数量——有几个额外的引脚。你需要把它们折断，有时它们会从你期望的地方折断一根针。如果是最小数量，你要么重新开始，要么在这一行的末尾焊接一个引脚(不理想)。如果你搞砸了这些，你可以想象使用一套三针，其余的作为一个单位来修复你的错误。也许我很奇怪，但这是生活中的小事！

## 编程选项:NodeMCU 和 Lua

主板附带有该固件。在包到达我家门口的三分钟内，我就启动并运行了 Lua 解释器。说真的，我花了比连接到我的本地 WiFi 接入点更长的时间来判断 USB 转串行对于 TX/RX 是绿色还是白色。如果你以前没有尝试过，Adafuit 的“Hello World”演练会让你开始体验。

## 编程选项:Arduino IDE

Adafruit 有一个 Arduino IDE 的董事会经理。也许这是常识，但我并不经常使用这个 IDE，这是我第一次碰到它。我能说什么呢，太棒了！

我讨厌为新芯片设置工具链。这样您[添加一个网址和端口号](https://learn.adafruit.com/adding-custom-boards-to-the-arduino-v1-6-board-manager/adding-the-proxy)，重启 IDE，并使用板管理器添加对此板的支持。太棒了。

这就把它变成了一个 Arduino 兼容板，解决了一个困扰我很久的问题。我见过大量在外部使用 ESP8266 的非常简单的 Arduino 项目。上个月为这些芯片移植 Arduino 框架的[，加上这个现成的硬件，消除了这种荒谬。说真的，这些项目中的绝大多数几乎不需要计算能力，当直接编程到这个芯片上时，将像做梦一样工作。](http://hackaday.com/2015/03/28/arduino-ide-support-for-the-esp8266/)

为了证明我的观点，我敲出了这个使用五个发光二极管作为输出的快速二进制计数器。我没有利用任何 WiFi 功能，但编译后的二进制文件为 174，358 字节，Arduino IDE 报告该主板的最大容量为 524，288 字节。虽然有五个 I/O 用于 led，但还有四个数字引脚、两个 UART 引脚和一个 ADC 输入。

## 编程选项:esptool

Arduino 将覆盖 NodeMCU，但这很容易刷新。我按照[cnlohr 的] [直接编程指南](http://hackaday.com/2015/03/18/how-to-directly-program-an-inexpensive-esp8266-wifi-module/)用 esptool 写二进制。这种方法和 Arduino 方法都是直接对模块上的 EEPROM 进行编程。如果您想使用 Espressif 或开源 SDK 进行原生开发，这与您使用的方法完全相同。以下是我用来刷新 NodeMCU 固件的命令:

```
sudo python esptool.py --port /dev/ttyUSB0 write_flash 0x0000 /home/mike/Downloads/nodemcu_latest.bin
```

从 github repo 的[“最新”文件夹中获取 NodeMCU 二进制文件。](https://github.com/nodemcu/nodemcu-firmware/tree/master/pre_build/latest)

## 结论

“菲尔给我们做多少就买多少。”这就是我要求 Hackaday 商店经理(Julian)做的事情。你应该能在几周内得到这个的黑色版本。Adafruit 目前已经售罄，但我相信他们正在努力补救。

这些是很棒的小板子。考虑到你所得到的，9.95 美元的价格是疯狂的。我说的是整个生态系统，它给了你多种风格的编程环境。Adafruit 在代码和知识库方面做了很多工作，但其中很大一部分是社区开发的，我认为降低价格是 Adafruit 选择在这个生态系统中做好人的另一种方式。该板有大量的 I/O，如果这还不够，可以实现 I2C、SPI 或 UART，将一个强大的 uC 耦合到这个为聚会带来的连接上。我在这块板上看不到任何不利因素。这是你能得到的最接近完美的了。