# 从旧 APC 备用电池中吸取 PIC 固件

> 原文:[https://hack aday . com/2014/01/18/sucking-pic-firmware-out-of-an-old-APC-battery-backup/](https://hackaday.com/2014/01/18/sucking-pic-firmware-out-of-an-old-apc-battery-backup/)

![reverse-engineering-pic-firmware-of-APC-power-supply](../Images/c1cc7877375ae1ee6c33eb3e44debf6a.png)

看着这个巨大的不间断电源我们有点羡慕。它应该挂在杂物间的墙上，为你的关键设备供电。[Radek Hvizdos]已经使用了很长时间，当他开始考虑更换内部电池时，他决定看看是否可以扩展功能。为此，他需要获取控制设备的芯片的固件。于是他开始了从读保护 PIC 18F452 中转储固件的冒险。

从写保护芯片中转储代码的挑战本身就是一个有趣的项目。但是[Radek]实际上对修复错误和增加功能感兴趣。我们最感兴趣的愿望列表特性是一种在内部电池电量开始下降时关闭设备的分流。不错！但是从固件开始是不行的。你可以看到他连接到 PCB 的两个地方。上部是使用 PIC 编程器。较低的是一个 I2C 连接用于转储与一个临时总线盗版 EEPROM。

最终是不正确的锁定位设置打开了获取固件的大门。PIC 的 bootloader 部分没有被锁定，在运行时从闪存读取的能力也没有被锁定。这两者结合起来允许他编写自己的代码，当闪存到引导装载部分时，转储其余的固件，以便以后可以组合成一个完整的文件。自从发布了这篇有趣的文章后，他又做了一篇关于反汇编代码的后续文章。