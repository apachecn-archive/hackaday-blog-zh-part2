# Sparkfun 船舶 2000 微视图没有引导加载程序

> 原文：<https://hackaday.com/2014/08/21/sparkfun-ships-2000-microviews-without-bootloaders/>

![microview-fail](img/3de5bf8026e00ee2c57dc6d9b81e59e2.png)

每个人都有糟糕的一天，对吗？对 Sparkfun 的人来说，周一是特别糟糕的一天。客户支持票开始堆积，导致发现他们已经发出了多达[1934 个微视图，没有引导加载器](https://www.sparkfun.com/news/1575)。

MicroView 是一个支持有机发光二极管、基于 Arduino 的微型微控制器系统，今年早些时候在 Kickstarter 上大获成功。[【马库斯·沙皮】](http://hackaday.com/2014/05/20/oh-the-people-youll-meet-at-maker-faire/)，项目创建者，与 SparkFun 合作，制造出微视并运送给支持者。这不是一个心血来潮的决定，Sparkfun 已经通过向该活动的支持者履行超过 11，000 个 [Makey Makey](http://hackaday.com/2012/05/25/review-and-a-build-makey-makey-a-banana-piano-and-mario/) 董事会证明了自己。

Sparkfun 首席执行官(Nathan Seidle)并没有淡化这个问题，而是在公司博客上解释了发生的事情，事情是如何发生的，以及他们将如何为客户做出正确的选择。这使得他们成为我们“一周失败”专栏的主题，在这里我们同情而不是批评。

首先，任何收到受影响的微视图的人都将在 11 月初获得第二个工作单元。此外，无引导装载器单元可以相对容易地投入使用。[Nate]提供了一个带有正确引导程序的十六进制文件。任何拥有 Atmel AVR 系统内编程(ISP)程序员和稳定的手的人都可以将他们的微视图变为现实。一些用户已经这样做了。引导程序只需通过 ISP 刷新一次。之后，微视图将通过 USB 与主机进行通信。Sparkfun 将在几周内发布完整教程。

点击休息时间阅读故事的其余部分。

那么是哪里出了问题呢？问题的症结是制造业的一个常见问题:不完整的生产测试。对于他们的许多产品，Sparkfun 加载一个包含生产测试和 optiboot 引导程序的十六进制文件。测试代码证明了设备的功能，引导程序允许客户用自己的草图刷新设备。问题是引导程序通常通过 USB 连接到 PC 主机。枚举 USB 连接可能需要 30 秒。这对于批量生产来说太慢了。

Sparkfun 选择跳过 bootloader 测试，因为所有用于加载固件的引脚都经过了生产测试代码的电气测试。多年来，这一切都运转良好——直到现在。7 月 18 日，制作团队对测试代码进行了修改。新的十六进制文件发布时没有引导加载程序。生产测试运行得很好，因为没有人测试引导装载程序，这个问题直到发布后才被发现。

Sparkfun 的工作人员正在采取一些措施，以确保这种情况不会再次发生。他们在测试夹具上使用第二个 ATmega 芯片来验证引导加载程序，而不需要缓慢的 PC 枚举步骤。Sparkfun 还将避免在生产运行期间更改固件。如果固件必须改变，他们计划在上线之前进行 beta 测试。最后，Sparkfun 正在改变他们大规模生产的方式。用内森自己的话说:

> 从小批量生产转向中等批量生产需要一种非常不同的方法。SparkFun 以前也犯过这种错误(设备上的固件有问题)，但规模较小，我们足够敏捷，在问题变得太大之前解决了问题。当我们开始大批量生产时，我们没有意识到质量控制和测试需要非常不同的思维。这是一个痛苦的教训，但这些制衡是必要的。如果它没有发生在微视图上，它将会在将来的某一天发生在更大的生产运行中。

每个人都有糟糕的日子，这不是 Sparkfun 第一次因失误而亏损。然而，他们正在做正确的事情，正面解决问题，不仅解决眼前的问题，而且解决导致问题出现的潜在思维过程。