# 苹果 MagSafe 协议黑客

> 原文:[https://hack aday . com/2013/06/07/apple-mag safe-protocol-hacking/](https://hackaday.com/2013/06/07/apple-magsafe-protocol-hacking/)

[Ken Shirriff]对苹果 MagSafe 的工作原理很感兴趣。具体来说，他想知道是什么控制着连接器上的 led，所以他撕开一个，看看里面是什么。这里有一个芯片，他没有浪费时间去弄清楚 MagSafe 通信协议是如何工作的。

他在 MagSafe 的小 PCB 上发现的 DS2413 芯片只有 6 个引脚。其中两个控制一对发光二极管，从而为指示器提供颜色范围。另一个引脚用于单线通信。轮询时，充电器将返回一个 64 位的识别号，其中包括各种信息。[Ken]使用上面的 Arduino 设置，查看几种不同型号的充电器提供了哪些数据。但是结果并不像他在文章中讨论的那样完全直接。单线协议也用于开关 led。这个过程是正在充电的电脑的责任，但[Ken]展示了如何使用 Arduino(使用几个 9 伏电压作为电源，而不是连接到电源)来循环颜色。