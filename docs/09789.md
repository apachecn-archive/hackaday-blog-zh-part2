# 使用 Mbed 开始使用 ARM

> 原文:[https://hack aday . com/2015/08/11/getting-started-with-arm-using-mbed/](https://hackaday.com/2015/08/11/getting-started-with-arm-using-mbed/)

尽管 Arduino 不是第一个支持引导加载程序和 C/C++语言的 8 位微控制器板，但它很快成为业余爱好级微控制器的事实上的标准，也是一次性或原型项目的常见选择。我确信发生这种情况有很多原因，但在我看来有三个主要原因:价格、大量库和示例代码的可用性以及可以在几分钟内安装的简化 GUI IDE 的存在。构建过程也很简单，即使你真的要弄清楚，它也很难看。对大多数人来说，这是可行的，这使得它不难看。

我喜欢 ATMega 芯片。事实上，在 Arduino 出现之前，我就有了基于 ATMega8 的主板和引导加载程序。然而，它们是相当小的部分。诚然，Arduino 基础设施已经发展到支持更多的 ATMega 芯片，许多芯片具有更大的内存、I/O 和时钟速度。然而，32 位处理器越来越便宜，除了最简单或最大容量的项目，您应该考虑使用 32 位处理器。

如果你以前尝试过这条路，你可能会被价格吓倒，尤其是开发工具的价格。您的选择是推出自己的工具链，这是非常可行的(有一些不错的脚本可以帮助您)。您还需要担心库以及如何集成它们。更不用说，许多先进的处理器需要大量的设置，例如，打开模数转换器。大多数处理器会关闭不使用的东西，每个引脚需要设置来选择该引脚上共享的 4 或 5 个东西。

所有这些都是进入的障碍。不过，供应商们都已经意识到了这一点，许多供应商都试图构建旨在打破 Arduino 市场的工具，从廉价的开发板到代码生成向导，再到成熟的 ide。我想告诉你(并在下面的视频中向你展示)如何比你想象的更容易地从 8 位跳到 32 位。

首先，我们来谈谈价格。我将重点关注来自飞思卡尔的 KL25Z 自由板。它并不比标准的 Arduino 板大多少，价格(今天)约为 13 美元。你得到了什么？运行频率为 48MHz 的 32 位 ARM 处理器。它有 128K 闪存、16K RAM、一个 USB 端口和几个 SPI、UART、I2C 和 PWM 外设。它还具有 16 位模数转换器和 12 位 DAC。该板本身也有一个加速度计和一个触摸传感器以及一个三色 LED。13 美元还不错。

当然，你会想你可以花更少的钱买到 ATMega 芯片，然后把它插在试验板上。您可以使用我将谈到的相同技术来编写 LPC1114FN28 芯片。当然，它只有 4K 的内存和 32K 的程序存储空间，但它可以很容易地放入试验板，成本不到 5 美元，即使你只是买一个。

KL25Z 甚至有一个 Arduino 兼容的子板插座(你知道，一个插入屏蔽的地方，虽然我很痛苦地说屏蔽)。你必须小心，因为主板是 3.3V，而不是 5V。一些 32 位设备具有 5V 兼容的 I/O，但在直接连接任何设备之前，您应该始终确保这一点。

[![mbed0](../Images/9805ae5d180a059b9ef9ac947b1871c6.png)](https://hackaday.com/wp-content/uploads/2015/08/mbed0.png) 一个 13 美元的开发板，有很多内存和其他好东西；听起来不错，对吧？但是开发工具肯定很贵或者很难安装，对吗？事实上，没有。ARM 提供了 mbed 网站，在您的浏览器中提供了完整的 C/C++ IDE(见左图)。根本不需要安装软件。版本控制、用户间共享库、文档。除了调试之外，你在 IDE 中想要的一切(但是不要忘记 Arduino IDE 也没有调试)。如果您喜欢使用本地工具链，则不必使用在线 IDE。然而，IDE 非常令人愉快，并且具有许多高效的特性。

也许问题是你需要一个昂贵的设备程序员？再说一次，不是。这板看起来像个 u 盘。你把它插入你的 Windows PC(或者任何可以识别 USB 驱动器的东西；我使用 Linux)并且它作为磁盘驱动器弹出。IDE 生成的文件只需复制到驱动器上，就可以对微控制器进行编程。引导加载程序内置在芯片中。

mbed 库(以及第三方库，包括您自己创建的库)让您像使用 Arduino 一样避开复杂性。例如，如果要创建 PWM 输出，只需使用 PWMOut 对象:

```
   PwmOut led_r(LED_RED);
```

它负责打开芯片的正确部分，启用 PWM 输出，以及在您使用的 ARM 芯片上使其工作的任何其他巫术。您想要的任何其他 I/O 任务都一样简单。IDE 允许您搜索从数学解答到整个实时操作系统的库。

因此，如果您正在运行 8 位处理器的极限，或者即使您只是为了升级而升级，您也可以在几分钟内启动并运行 32 位开发平台，费用约为 13 美元。一旦你习惯了拥有 128K 的代码空间，一吨的 RAM，以大约 48 MIPS 的速度执行代码，你会发现很难再回头。

想了解更多？下面的视频将带你开始。您也可以在 [mbed 网站](http://mbed.org)上查看文档。我们还谈到了将与 mbed 一起工作的 [BBC Micro:Bit](http://hackaday.com/2015/07/07/the-bbc-microbit/) ，如果你想获得更多想法，甚至还看了在 mbed 兼容处理器上重建的 [ZX81。](http://hackaday.com/2014/12/22/zx81-emulated-on-an-mbed/)

[https://www.youtube.com/embed/cKbMyXl3yBA?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent](https://www.youtube.com/embed/cKbMyXl3yBA?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent)T2】