# 用狡猾的 PHP 愚弄谷歌搜索控制台

> 原文:[https://hack aday . com/2015/07/17/folling-Google-search-console-with-tricky-PHP/](https://hackaday.com/2015/07/17/fooling-google-search-console-with-tricky-php/)

当[史蒂夫]收到谷歌的通知，说他的谷歌搜索控制台账户增加了一个新主人时，他知道出了问题。他没有在自己的账户上添加任何人。起初，他认为这可能是一种巧妙的网络钓鱼策略。也许这封邮件是想让他点击一个恶意链接。经过进一步调查，他发现这是合法的。一些奇怪的电子邮件地址被添加到他的帐户。这是怎么发生的？

当你想在谷歌的服务中添加一个网站时，作为一种安全预防措施，他们要求你证明你拥有实际的网站。提供证据的一种方法是上传或创建一个 HTML 文件到你的网站，里面有一些特定的文本。在这种情况下，该文件需要被称为“google1a74e5bf969ded17.html”，并且它需要包含字符串“Google-site-verification:Google 1a 74 e 5 BF 969 ded 17 . html”。

[Steve]登录到他的 web 服务器并查看网站目录，但他找不到验证文件。出于好奇，他尝试访问这个网页，并惊讶地发现它的工作。经过一番试验，【Steve】了解到，如果他试图加载任何一个看起来像“googleNNNNNNN.html”的网页，都会呈现给他“Google-site-verification:googlennnnnnnn . html”的对应验证码。有东西在自动生成这些页面。

经过进一步的调查，[Steve]发现一些恶意的 PHP 代码被添加到了他网站的 index.php 页面中。不幸的是，代码被混淆了，所以他不能确定到底发生了什么。从 index.php 的文件中删除新代码后，[史蒂夫]能够从[史蒂夫]的谷歌账户中删除黑客的电子邮件地址。

这是一个非常有趣的黑客行为，因为它不仅允许这个黑客将自己添加到[史蒂夫的]谷歌账户，还允许其他任何人做同样的事情。这是因为每一个新的黑客都能够欺骗谷歌的服务器，使其认为由于恶意的 PHP 代码，他们已经上传了验证文件。这让我们想到，也许 Google 的验证系统应该在验证文件中使用一个单独的随机字符串。也许是一个无法根据已知变量(如文件名)进行猜测或计算的问题。