# 剖析 Arduino

> 原文:[https://hackaday.com/2014/04/28/profiling-an-arduino/](https://hackaday.com/2014/04/28/profiling-an-arduino/)

![profiling](../Images/c3a5c7a436ab289ca5beb024beee0aaa.png)

在适当的、高成本的嵌入式开发环境中——以及相当多的免费和开源环境中——您可以获得非常酷的功能，如调试、仿真和概要分析。Arduino IDE 没有这些额外的功能，所以计算一段代码要花多少时间几乎是不可能的。[William] [想出了一个聪明的解决方案来解决这个问题](http://www.dudley.nu/arduino_profiling/)，虽然它没有告诉你在一个特定的代码行上到底花了多少时间，但它仍然是一个足够好的工具，对优化有很大的帮助。

[William]的解决方案是为任意代码块创建一个“bin”——每个子程序或深度嵌套循环一个。当 profiler 运行时，您会得到每个代码块所用时间的直方图。这是通过一个运行频率约为 1 kHz 的中断来完成的，代码周围散布着宏。每当中断发出滴答声时，宏就会运行并使计数器加 1。让草图运行一分钟左右，您就可以知道在特定的代码区域花费了多少时间。

这有点像组装的，但是当您处理极其简单的工具时，调试中的任何帮助都是非常需要的，并且非常感谢。